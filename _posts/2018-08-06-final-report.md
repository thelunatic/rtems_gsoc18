---
layout: post
title: "GSoC 2018 Final Report"
comments: true
author: Vijay Kumar Banerjee(thelunatic)
---

### Project Overview

RTEMS-TOOLS Uses the test framework `rtems-test`, which is a command line 
interface to run tests on supported targets.The Board Support package (BSP) 
configuration for RTEMS are provided and can be used to run all the tests 
provided in the RTEMS testsuites. The framework is not specific to RTEMS and 
can be configured to run any suitable application. 

---
### Mentors

Dr. Joel Sherrill 
Chris Johns
Cillian O'Donnell

---
### Project Objectives

There are two main objectives of the project.

1. Integrating a script in RTEMS-TESTER framework to invoke the `covoar` tool 
to generate Coverage Analysis reports and output in a front-end HTML Table to
let the user easily navigate through all the reports from one place.

2. Add support in `Covoar` to take input from the `qemu` traces and the `gcno`
files which are generated by gcc at the compile time, and process it to generate
the `gcda` data files. The notes (gcno) and the data files (gcda) can be 
processed by the GCC GCOV to generate gcov reports which opens door to reports 
with more data-centric format like `xml` which can be processed by other tools.

---
###Summary of The work 

This section contains a detailed summary of the work done towards each of the
two objectives mentioned above. This includes the Challenges faced specific
to the objective, the work done and the progress towards the goal and the 
future of the project.

####Integrating Coverage script in Tester-Framework

This was the continuation of the GSoC 2017 project of Cillian (one of my mentors).
I picked up from the point where he left, it was not merged with the RTEMS-TOOLS
main repository yet, the source tree had undergone significant reorganization,
early this year, which resulted in the breaking of the coverage script, the 
coverage reports were yet to be produced by the script. The project kept 
evolving with time and the script as well as `covoar` underwent a lot of 
refactoring and reworking. 

[THIS LINK](https://github.com/thelunatic/rtems-tools/commits/cov-tester-support?author=thelunatic) has the list of the commits that got the script working and reports could be generated.

What was needed to be done after this was some refactoring of this code and adding
support in the script to generate absolute build paths and proper ini files. 
After quite some work and reworking of the code...

[It got merged !!!](https://github.com/RTEMS/rtems-tools/commit/b762312fae672e1ae8b47e4581f445020d47245f)

(NOTE FOR VIJAY :  THIS PORTION IS TO INCLUDE THE LATEST MERGED CODE, DON'T FORGET)

##### Running Coverage with RTEMS-TEST

The instructions for running the tester with --coverage option can be found [here](https://devel.rtems.org/wiki/GSoC/2018/coverage_analysis_toolset#RunningRTEMS-TESTERforCoverageanalysis).

The detailed sample reports with images and explanations can be found in the following links.

[HTML reports](https://thelunatic.github.io/rtems_gsoc18/blog/coverage-report/).
[Text reports](https://thelunatic.github.io/rtems_gsoc18/blog/txt-report/)

##### Future Improvements 
* The support for iterating through multiple symbol-set to generate separate 
reports, can be shifted to Covoar, this will make it a lot faster.
* support for MCDC (Modified Condition/Decision Coverage)  analysis.
* Integrating detailed coverage analysis docs and how-tos with the tester docs.

---

#### Adding Gcov support in Covoar 
